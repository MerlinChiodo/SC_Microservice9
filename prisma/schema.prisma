generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Refugee {
  id              Int               @id @default(autoincrement())
  firstname       String
  lastname        String
  email           String
  date_of_birth   DateTime          @db.Date()
  phone           String?
  nationality     String?
  language        String?
  document        Bytes?
  qr_code         String?           @unique
  housing         Housing           @relation(fields: [housing_id], references: [id])
  housing_id      Int
  KitaApplication KitaApplication[]
}

model KitaApplication {
  id         Int      @id @default(autoincrement())
  date       DateTime @default(now())
  Refugee    Refugee  @relation(fields: [refugee_id], references: [id])
  refugee_id Int
}

model Housing {
  id               Int       @id @default(autoincrement())
  housing_type     String
  number_of_people Int?
  size             Float
  shared_bathrooom Boolean?
  rooms            Int?
  rent             Float
  info             String?   @db.LongText
  citizen_id       String?
  Refugee          Refugee[]
  address         Address  @relation(fields: [address_id], references: [id])
  address_id      Int
}

model Address {
  id           Int       @id @default(autoincrement())
  house_number Int
  street       String
  city_code    Int
  Housing      Housing[]
}

model Donation {
  id         Int     @id @default(autoincrement())
  amount     Float
  citizen_id String?
}

model Employee {
  id        String  @id
  firstname String
  lastname  String
  email     String?
  phone     String?
  room      String?
  Post      Post[]
}

model Post {
  id          Int      @id @default(autoincrement())
  title       String?
  text        String   @db.LongText
  picture_url String?
  date        DateTime
  employee    Employee @relation(fields: [employee_id], references: [id])
  employee_id String
}
